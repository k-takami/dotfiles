リハビリ
  
    #linux-rehabilitaion menu
      #3month-blank
        vi---set nowrap, set nonumber, set list
        w3m google.co.jp
        login to webmin with ID= "some_body"
        sudo ruby R2chnnInitfork.rb help
        sudo ruby R2chnnInitfork.rb start localdebug home
    #OSX
      shortcut [[https://support.apple.com/ja-jp/HT201236
        C+<---/---> : desktop switching
        「Control」＋「Shift」＋「Eject ⏏」すぐにディスプレイのみをスリープ
        「Command」＋「Option」＋「Eject ⏏」すぐにスリープ
    #vim/Vwrapperリハビリ
      SURROUND: 「yse(b|a|t+タグ文字). cd」, visual=「VS+タグ文字」
        vwrapperはESC+ys, vimはcsだけ
      再読み込みは   :edit!
      split水平垂直入れ替え
        <C-W> H/K
      rails.vim : https://github.com/tpope/vim-rails
        Smodel Scontroller. Sspec Sview, Sfixture....: open related MVCSF
        :
    aptanaリハビリ：「3TSR」
      ⌘+S+r: リソース インクリメンタル検索ジャンプ
      ⌘+t: 直近みたリソースにジャンプ
      alt+上下矢印：行の上下移動
      CTRL+3: IDE機能検索
  
  bashrcリハビリ
    alias patchp=' patch    -p0 <' #[patch-name] to apply on
    alias patchrp='patch -R -p0 <' #[patch-name] to reverse(=undo)
    alias grep-gitst='git status |grep -niE'
    alias gibr-d='   git branch -d'
    alias giad='     git add'
    alias gicm='     git commit'
    alias gicmm='    git commit -m'
    alias gico='     git checkout'
    alias gico-='    git checkout -'
    alias gico-b='   git checkout -b'
    alias gidi='     git diff'
    alias hgdi='     hg diff -c'
    alias gidic='    git diff --cached'
    alias gidicnp='  git diff --cached --no-prefix'
    alias gidinp='   git diff          --no-prefix'
    #  diff -Bbqwr -x ".hg" ginger ginger_mae/ |sort
    alias gibl='     git blame'
    alias hgbl='      hg blame -lund'
    # cf: https://www.wikivs.com/wiki/Git_vs_Mercurial:w
    alias giplo='    git pull origin'
    alias gipso='    git push origin'
    #alias gipsdelo=' git push --delete origin' #[branch-name] to delete
    alias gish='     git stash'
    alias gishcl='   git stash clear'
    alias gishls='   git stash list'
    alias gishsw='   git stash show'
    alias gishsv='   git stash save'
    alias gishpp='   git stash pop'
    alias gilos='    git log -S'
    alias hgst='     hg status'
    alias hgstfile=' hg status --rev '
    #hg status --rev -3: |grepe "(apple|yml|setting|const|system)"
    #git変更コマンド
    alias gicma='    git commit --amend'
    alias gibr-m='   git branch -m' #旧ブランチ名　新ブランチ名
    #git 矛盾解消コマンド
    alias gicothr='      git checkout --theirs'
    alias gicoour='      git checkout --ours'
    alias girstmg='      git reset --merge'
    alias girsthdHD-n='  git reset --hard HEAD~' #nを追記 :自分のコミットをN回とりけした状態にロールバック
    alias girstsftHD@n='git reset --soft HEAD@' #commitとりけし {1}など
    alias girmc='        git rm --cached'        #stagingとりけし
    alias gicostsh0='    git checkout stash@{0}'
    alias girstHD='      git reset HEAD -- '
    alias gicostsh0lots='git checkout stash@{0} Gemfile Gemfile.lock config/environments/development.rb config/database.yml .gitignore ; git reset HEAD -- Gemfile Gemfile.lock config/environments/development.rb config/database.yml .gitignore;'
    #git checkout stash@{0} config/database.yml ; git reset HEAD -- config/database.yml ; git diff config/database.yml ; git branch ;
  


新規Railsアプリケーション解析コマンド
#cd Rails.root/
# <--- ER解析
$ ll kp-*/db/migrate/*create*rb
$ ll kp-*/db/migrate
$ greper " (has_|have_|belongs)_" ./#{apps_root}/app/models/*
$ greper "t.string" kp-*/db/migrate/*create*rb

# <--- task/scheduler/ 解析
$ filelist |grep -nE "kp-\w+\/batches.+rb"
$  filelist |grep -nE "kp-\w+\/.+\.rake$" | grep -v "vendor/bundle"
$ find kp-*/lib/tasks/ -name "*.rake" |xargs ls -alt |sort

# <--- 初期データ seed/fixture 解析
$ filelist |grep -nE "kp-\w+\/db\/seed.+rb"
$ greplr "'csv'" kp-*/db/seed* |xargs vi

$  greper "group" kp-*/db/migrate/201*rb
$ greper "¥"hokensha_bango¥"" kp-*/db/schema.rb


# ■■  新規Railsアプリケーションとりあえずうごかすコマンド
# vim Gemfile
  # passenger, unicord raindrops mysql2 debugger guard-livereload kgio  けずる
  # gem 'sqlite3'
  # gem "iconv", "~> 1.0.3"

# database.yml　簡略化
#   development:
#     adapter: sqlite3
#     database: db/SetupInfoManagement_development.sqlite3
#     pool: 5
#     timeout: 5000
$ bdllikerails12 ; bx rake db:reset ; bxrdbm; bxrdbs
# migrationファイルでadd_indexをOFFにする
# DB* SQLite3::SQLException: Cannot add a NOT NULL column with default value NULL: ALTER TABLE "stores" ADD "number" varchar(255) NOT NULL
  migrationの#, :null => false　にコメントアウト 
  :%s/, *:null =>/ #, :null =>/gc





#Apache-app
  cat /etc/httpd/conf.d/passenger.conf
  $ sudo apachectl -M |sort
  $ ll　/etc/httpd/modules
  rake -T |grep enju

  $ grep -nirE "(HTTP_Z|STATUS)" ./* --include=*.conf --include=*.xml

  #cd Rails.root/
  $ grep -irE "^[0-9]+" spec/fixtures/resources.yml |sort

#**コードマニア対策**script (expect.rb)
  vimから ruby-wc と rbca giswの即時チェック
  precommit: 即時チェックしたファイルは>> rbc***.shに「rubocop -a *****」で追記


