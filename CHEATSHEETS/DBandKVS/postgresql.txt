#postgres
	sudo /etc/init.d/postgresql start
	$ sudo passwd postgres
	su - postgres
	psql redmine_pg_dev
	psql SetupInfoManagement_production -U postgres -W
	#注意点
		.config/database.yml はhost: 127.0.0.1にしないと､既存user/pwでもident認証
		にひっかかる｡postgresqlはident認証(unix id/pw = postgres d/pwで一致)がデフォル
		ト｡
			#gem pg  fileでpgのインストールをもとめられたら
				REHL:
					事前にPATHとsoci-postgresql-devel.i686
						を準備しないとgem install はこける｡
						in case of REHL linuxes(REHL, centOS, fedora)
						you hae to make sure PATH and/or postgresql-devel is prepared as example below;
						export PATH=/usr/pgsql/bin:$PATH
						yum install soci-postgresql-devel.i686
					gem "pg", ">= 0.11.0", :platforms => [:mri, :mingw]
			　
				CentOS:
					パス指定しないとエラー Can't find the 'libpq-fe.h header
					sudo yum -y install ruby-devel
					gem  install pg -- --with-pg-dir=/usr/pgsql/
						
			#peer認証:既定のpeer認証では、ユーザ名がUnixのユーザ名と一致していないとエラーになります。
			sudo /etc/init.d/postgresql stop
				REHL: vim /var/lib/pgsql/9.2/data/pg_hba.conf
        DEB : $ sudo vim /etc/postgresql/9.3/main/pg_hba.conf
					--> peer を　passwordに
						81 # local   all             all                                     peer
						82 local   all             all                                  password
			sudo /etc/init.d/postgresql start　 
		　#connect t DB
			psql redmine_pg_dev -U root
			#db creation
				CREATE DATABASE tkt_redmine_development;
				\l: 
			#user creation
				createuser root;
				SELECT * FROM pg_shadow;
			#password creation
				alter user postgres with password 'root';
		　　su - postgres
			sudo /etc/init.d/postgresql stop
			psql redmine_pg_dev -U postgres 
			alter user root with password '';
			sudo /etc/init.d/postgresql start
			select * from schema_migrations ;
				\d issues_addtion_datat 
			ALTER evacuation_advisories rename type to advisory_type;
			root@localhost:/opt/fix/LGDIS# psql --version
			psql (PostgreSQL) 9.2.1
			ALTER TYPE
			Name
			列　拡張
				alter table hoge alter COLUMN hoge_column TYPE varchar(10)
			alter table issues add  mail_subject varchar(15)
**PostgreSQLの基本的(よく使う)コマンド**
	ref: http://qiita.com/Shitimi_613/items/bcd6a7f4134e6a8f0621
	\c dbname               db 接続
	\l　　　　　　　　　　　データベースの一覧
	\d+　　　　　　　　　 　テーブル一覧
	\d+ テーブル名|シークエンス名　　　テーブル|シークエンスの項目(フィールド)確認
		cf: mysql の show full columns [table_name]
	\i sqlファイル名　 　SQL(スクリプト)ファイルの実行
	\s                     コマンド履歴表示  
	\q　 　　　　　　　　　psqll切断 
	\x                     検索結果タテ表示　トグルで表示切り替え
		cf: mysql はSQL文末に \G;
			mysql の show full columns [table_name]
		
	CREATE ROLE catalog WITH SUPERUSER LOGIN;
	(role変更はALTER ROLE catalog WITH SUPERUSER LOGIN ;)
RRRoR #postgres2mysql
sudo yum install imagemagick ImageMagick-devel gettext hiredis hiredis-devel
git submodule init
git submodule update
lat lib/submodules/Publis_Authoring/
gem install rmagick -v '2.13.2'

#Gemfileでアダプターをmysql2<->pg　でいれかえ

NOKOGIRI_USE_SYSTEM_LIBRARIES=1 bundle install --path vendor/bundle --binstubs vendor/bin

# adapter  = 'postgresql'
# encoding = 'unicode'
adapter = 'mysql2'
encoding = 'utf8mb4'
username = 'root'
password = ''
host = '127.0.0.1'
pool = 5


#migration fileのindex操作無効化
$ greper "(_index|CREATE INDEX|bytea|binary|ALTER)" db/migrate/ |grep -vE "add|remove|rename"
#execute 文コメントアウト, 次の行に分が分かれているかも！　^ +name: とか
##PG add_column :contents, :compressed_images_json, :bytea, null: trueadd_column :contents, :compressed_images_json, :binary, null: true

  def change
    # create_table :owner_coin_histories, { id: :bigserial } do |t|
    create_table :owner_coin_histories, id: false do |t|
      t.column   :id, "BIGINT PRIMARY KEY AUTO_INCREMENT"





