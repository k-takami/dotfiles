<!DOCTYPE html><html><head><meta charset="utf-8" /><title>RailsのScaffoldのテンプレートをカスタマイズする</title><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name="viewport" /><meta content="#55c500" name="theme-color" /><meta content="XWpkTG32-_C4joZoJ_UsmDUi-zaH-hcrjF6ZC_FoFbk" name="google-site-verification" /><link href="/manifest.json" rel="manifest" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><script async="" src="https://www.googletagmanager.com/gtag/js?id=AW-935296116"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'AW-935296116');

// Event snippet for qiita remarketing page
gtag('event', 'conversion', {
    'send_to': 'AW-935296116/jvRhCOaj5YYBEPT4_b0D',
    'value': 1.0,
    'currency': 'JPY',
    'aw_remarketing_only': true
});</script><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="YMqaUkSwDViIdySE+btnnlTOGLKiXu26h7JIAX/3Xala/Y9li9PSzep8/5Riga9+ttwfZZrn6dlh9Lkvepox9A==" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-f9a6afad761ec2306e10db2736187c8b.png" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public/style-f9c7b2fa9663403c85f7a8137924e09b.min.css" /><script src="https://cdn.qiita.com/assets/public/bundle-f4aa1a5bd9184548767a72d1e192e2d8.min.js" defer="defer"></script><meta content="summary" name="twitter:card" /><meta content="@Qiita" name="twitter:site" /><meta property="og:type" content="article"><meta property="og:title" content="RailsのScaffoldのテンプレートをカスタマイズする - Qiita"><meta property="og:image" content="https://cdn.qiita.com/assets/qiita-fb-2887e7b4aad86fd8c25cea84846f2236.png"><meta property="og:description" content="##Scaffoldで生成されるテンプレートをSlimに変更する

Railsの__Scaffold__を使う際にテンプレートを__slim__で、

生成してさらに中身をカスタマイズできるようにしたくなったのでいろいろ調べてみました..."><meta content="https://qiita.com/abgata20000/items/515f64632942c4e982b6" property="og:url" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /></head><body><div class="allWrapper"><div data-hyperapp-app="GlobalHeader" data-hyperapp-props="{&quot;unreadNotificationsCount&quot;:null,&quot;realms&quot;:[{&quot;humanName&quot;:&quot;Qiita&quot;,&quot;isCurrentRealm&quot;:true,&quot;isQiita&quot;:true,&quot;isQiitaTeam&quot;:false,&quot;loggedInUser&quot;:null,&quot;teamId&quot;:null,&quot;url&quot;:&quot;https://qiita.com/&quot;}],&quot;teamFindUrl&quot;:&quot;https://teams-center.qiita.com/find_team&quot;,&quot;isTeamOnlyUser&quot;:null,&quot;currentUser&quot;:null}"><div class="st-Header" id="globalHeader"><div class="st-Header_container"><div class="st-Header_start"><a class="st-Header_logo mr-1" href="/"><svg viewBox="0 0 75 25" xmlns="http://www.w3.org/2000/svg"><title>Qiita</title><path d="M24.6 12.2C24.6 6.2 20 0 12.2 0 6.2 0 0 4.6 0 12.4c0 6 4.6 12.2 12.4 12.2 2.5 0 5-.8 7.1-2.3l3.6 3.6 1.6-1.6-3.4-3.4c2.1-2.3 3.3-5.3 3.3-8.7zm-12.4-10c5.7 0 10.2 4.4 10.2 10.1 0 4.9-3.8 10.1-10.1 10.1s-10.1-5.1-10.1-10c0-6.4 5.1-10.2 10-10.2zM30.5 7.1h2.1v17h-2.1zM31.5 4.8c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8 1.8.8 1.8 1.8-.8 1.8-1.8 1.8zM40 4.8c-1 0-1.8-.8-1.8-1.8S39 1.2 40 1.2s1.8.8 1.8 1.8S41 4.8 40 4.8zM39 7.1h2.1v17H39zM53.7 24.4c-3.9 0-6.2-3-6.2-6v-16h2.1v4.7H57v2.1h-7.4v9.3c0 1.9 1.5 3.9 4.1 3.9.7 0 1.4-.2 2-.6l.2-.1 1 1.8-.2.1c-.9.5-2 .8-3 .8zM67.6 24.5c-5.7 0-9.1-4.5-9.1-8.9 0-5.7 4.5-9.1 8.9-9.1 2.3 0 4.1.8 5.4 2.3V7.1h2.1v17h-2.1v-1.9c-1.2 1.5-3 2.3-5.2 2.3zm-.2-15.9c-3.4 0-6.8 2.6-6.8 7 0 3.4 2.6 6.8 7 6.8 2 0 4-.9 5.3-2.5v-8.8c-1.4-1.6-3.3-2.5-5.5-2.5z"></path></svg></a><div><div class="st-Header_realmSelector"><span class="fa fa-fw fa-caret-down"></span></div></div><div><div class="st-Header_community">コミュニティ<span class="fa fa-fw fa-caret-down ml-1of2"></span></div></div><form class="st-Header_search"><span class="fa fa-search"></span><input class="st-Header_searchInput" placeholder="キーワードを入力" type="search" /></form><div class="st-Header_searchButton"><span class="fa fa-serach"></span></div></div><div class="st-Header_end"><a class="st-Header_signupButton" href="/signup">ユーザ登録</a><a class="st-Header_loginLink" href="/login">ログイン</a></div></div></div></div><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"/","name":"Qiita"}},{"@type":"ListItem","position":2,"item":{"@id":"/tags/ruby","name":"Ruby"}}]}</script><script async="" src="https://cdn.bigmining.com/private/js/qiita_bigmining.js"></script><div style="display:none"><div class="TagList__label"><span></span><span>Ruby</span></div><div class="TagList__label"><span></span><span>Rails</span></div><div class="TagList__label"><span></span><span>scaffold</span></div></div><img style="display:block;margin:0;padding:0;border:0;outline:0;width:0;height:0;line-height:0;" alt="" src="https://relay-dsp.ad-m.asia/dmp/sync/bizmatrix?pid=c3ed207b574cf11376&amp;d=x18o8hduaj&amp;uid=" /><div data-hyperapp-app="PersonalPublicArticle" data-hyperapp-props="{&quot;article&quot;:{&quot;body&quot;:&quot;\n\u003ch2\u003e\n\u003cspan id=\&quot;scaffoldで生成されるテンプレートをslimに変更する\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#scaffold%E3%81%A7%E7%94%9F%E6%88%90%E3%81%95%E3%82%8C%E3%82%8B%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%82%92slim%E3%81%AB%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eScaffoldで生成されるテンプレートをSlimに変更する\u003c/h2\u003e\n\n\u003cp\u003eRailsの\u003cstrong\u003eScaffold\u003c/strong\u003eを使う際にテンプレートを\u003cstrong\u003eslim\u003c/strong\u003eで、\u003c/p\u003e\n\n\u003cp\u003e生成してさらに中身をカスタマイズできるようにしたくなったのでいろいろ調べてみました。\u003c/p\u003e\n\n\u003cp\u003eテンプレートエンジンを\u003cstrong\u003eslim\u003c/strong\u003eに変更するのは、簡単そうです。\u003c/p\u003e\n\n\u003cp\u003eGemfileに \u003ccode\u003egem &#39;slim-rails&#39;\u003c/code\u003e を追加して \u003ccode\u003ebundle install\u003c/code\u003e を実行して、\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003econfig/application.rb\u003c/code\u003eに\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003econfig.generators do |g|\n  g.template_engine :slim\nend\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eを追加するだけで出来ました。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\&quot;https://camo.qiitausercontent.com/2f37bf8bba75bb8d783c206e30f34a480cda98e8/68747470733a2f2f6162676174612e73332d61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f36343437643337353639623936333333633839383165626361623937386437302e706e67\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noopener\&quot;\u003e\u003cimg src=\&quot;https://camo.qiitausercontent.com/2f37bf8bba75bb8d783c206e30f34a480cda98e8/68747470733a2f2f6162676174612e73332d61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f36343437643337353639623936333333633839383165626361623937386437302e706e67\&quot; alt=\&quot;img\&quot; data-canonical-src=\&quot;https://abgata.s3-ap-northeast-1.amazonaws.com/6447d37569b96333c8981ebcab978d70.png\&quot;\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;さらにこれの中身をカスタマイズしたい\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E3%81%95%E3%82%89%E3%81%AB%E3%81%93%E3%82%8C%E3%81%AE%E4%B8%AD%E8%BA%AB%E3%82%92%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%81%97%E3%81%9F%E3%81%84\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eさらに、これの中身をカスタマイズしたい\u003c/h2\u003e\n\n\u003cp\u003e参考サイト: \u003ca href=\&quot;http://qiita.com/labocho/items/387e7592b8e388fd9ca5\&quot; id=\&quot;reference-56dbe92a92b27336e517\&quot;\u003erails g scaffold のカスタマイズ\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e現在利用しているテンプレートのコピーを作成します\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003erake rails:templates:copy\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれで \u003ccode\u003elib/templates\u003c/code\u003e が生成されます\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003elib/template/scaffold\u003c/code\u003e 作成して、\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003eindex.html.erb\u003c/code\u003e などのテンプレートファイルを作成すれば\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003erails g scaffold\u003c/code\u003e 時に反映されるようです。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;テンプレートのカスタマイズもslimで書きたい\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%81%AE%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%82%82slim%E3%81%A7%E6%9B%B8%E3%81%8D%E3%81%9F%E3%81%84\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eテンプレートのカスタマイズもSlimで書きたい\u003c/h3\u003e\n\n\u003cp\u003eデフォルトでは、テンプレートエンジンは \u003ccode\u003eerb\u003c/code\u003e になっています。\u003c/p\u003e\n\n\u003cp\u003eこのままでも良かったのですが、折角なので、\u003c/p\u003e\n\n\u003cp\u003eテンプレートのカスタマイズも\u003cstrong\u003eslim\u003c/strong\u003eで出来るようにしました。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003erails g generator slim/scaffold\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eで、\u003ccode\u003elib/generators/slim/scaffold\u003c/code\u003e が生成されます。\u003c/p\u003e\n\n\u003cp\u003e生成されたフォルダ内の\u003c/p\u003e\n\n\u003cp\u003e\u003ccode\u003escaffold_generator.rb\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003eを編集します。\u003c/p\u003e\n\n\u003ch5\u003e\n\u003cspan id=\&quot;scaffold_generatorrb\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#scaffold_generatorrb\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003escaffold_generator.rb\u003c/h5\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003erequire \&quot;rails/generators/erb/scaffold/scaffold_generator\&quot;\nclass Slim::ScaffoldGenerator \u0026lt; Erb::Generators::ScaffoldGenerator\n  source_root File.expand_path(&#39;../templates&#39;, __FILE__)\n\n  protected\n  def handler\n    :slim\n  end\nend\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれで、scaffold時に \u003ccode\u003elib/generators/slim/scaffold/template\u003c/code\u003e 内のファイルが利用されるようになります。\u003c/p\u003e\n\n\u003ch5\u003e\n\u003cspan id=\&quot;indexhtmlslim\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#indexhtmlslim\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eindex.html.slim\u003c/h5\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003eh1\n  | \u0026lt;%= plural_table_name %\u0026gt;\n\ntable class=(\&quot;table table-boderd table-striped table-hover\&quot;)\n  thead\n    tr\n\u0026lt;% attributes.reject(\u0026amp;:password_digest?).each do |attribute| -%\u0026gt;\n      th \u0026lt;%= attribute.human_name %\u0026gt;\n\u0026lt;% end -%\u0026gt;\n      th\n      th\n      th\n\n  tbody\n    - @\u0026lt;%= plural_table_name %\u0026gt;.each do |\u0026lt;%= singular_table_name %\u0026gt;|\n      tr\n\u0026lt;% attributes.reject(\u0026amp;:password_digest?).each do |attribute| -%\u0026gt;\n        td= \u0026lt;%= singular_table_name %\u0026gt;.\u0026lt;%= attribute.name %\u0026gt;\n\u0026lt;% end -%\u0026gt;\n        td= link_to &#39;Show&#39;, \u0026lt;%= singular_table_name %\u0026gt;, :class =\u0026gt; &#39;btn btn-info&#39;\n        td= link_to &#39;Edit&#39;, edit_\u0026lt;%= singular_table_name %\u0026gt;_path(\u0026lt;%= singular_table_name %\u0026gt;), :class =\u0026gt; &#39;btn btn-success&#39;\n        td\n          = link_to(&#39;Destroy&#39;,\n            \u0026lt;%= singular_table_name %\u0026gt;,\n            method: :delete,\n            :remote =\u0026gt; true,\n            :onclick =\u0026gt; &#39;if(window.confirm(\&quot;are you sure?\&quot;)){$(this).closest(\&quot;tr\&quot;).fadeOut()}&#39;,\n            data: {},\n            :class =\u0026gt; &#39;btn btn-danger&#39;)\n\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこんな感じですね。\u003c/p\u003e\n\n\u003cp\u003eちょっとハマったのは、\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u0026lt;% attributes.reject(\u0026amp;:password_digest?).each do |attribute| -%\u0026gt;\n      th \u0026lt;%= attribute.human_name %\u0026gt;\n\u0026lt;% end -%\u0026gt;\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eのようなscaffold時に生成される箇所にインデントがあると、\u003c/p\u003e\n\n\u003cp\u003e生成されたslimファイルのインデントがおかしくなるという点です。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003etbody\n  - @\u0026lt;%= plural_table_name %\u0026gt;.each do |\u0026lt;%= singular_table_name %\u0026gt;|\n    tr\n      \u0026lt;% attributes.reject(\u0026amp;:password_digest?).each do |attribute| -%\u0026gt;\n      td= \u0026lt;%= singular_table_name %\u0026gt;.\u0026lt;%= attribute.name %\u0026gt;\n      \u0026lt;% end -%\u0026gt;\n\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eのように記述すると\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003etr\n    td\n\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eとインデントが余分に入ってしまいました。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;折角なのでcontrollerとmodelもカスタマイズする\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E6%8A%98%E8%A7%92%E3%81%AA%E3%81%AE%E3%81%A7controller%E3%81%A8model%E3%82%82%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%81%99%E3%82%8B\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e折角なのでcontrollerとmodelもカスタマイズする\u003c/h2\u003e\n\n\u003cp\u003econtrollerは、\u003ccode\u003elib/templates/rails/scaffold_controller/controller.rb\u003c/code\u003eを編集すればいいようです。\u003c/p\u003e\n\n\u003cp\u003eこのファイルは、最初に実行した\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003erake rails:templates:copy\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eで生成されていました。\u003c/p\u003e\n\n\u003cp\u003emodelは、\u003ccode\u003elib/templates/active_record/model/model.rb\u003c/code\u003eを作成する必要があります。\u003c/p\u003e\n\n\u003cp\u003eサンプルは、\u003c/p\u003e\n\n\u003ch5\u003e\n\u003cspan id=\&quot;rubymodelrb\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#rubymodelrb\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eruby:model.rb\u003c/h5\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u0026lt;% module_namespacing do -%\u0026gt;\nclass \u0026lt;%= class_name %\u0026gt; \u0026lt; \u0026lt;%= parent_class_name.classify %\u0026gt;\n\u0026lt;% attributes.select {|attr| attr.reference? }.each do |attribute| -%\u0026gt;\n  belongs_to :\u0026lt;%= attribute.name %\u0026gt;\u0026lt;%= &#39;, polymorphic: true&#39; if attribute.polymorphic? %\u0026gt;\n\u0026lt;% end -%\u0026gt;\n\u0026lt;% if !accessible_attributes.empty? -%\u0026gt;\n  # attr_accessible \u0026lt;%= accessible_attributes.map {|a| \&quot;:#{a.name}\&quot; }.sort.join(&#39;, &#39;) %\u0026gt;\n\u0026lt;% else -%\u0026gt;\n  # attr_accessible :title, :body # rails4 だとエラー出ます\n\u0026lt;% end -%\u0026gt;\n\n\n  def to_s\n    \u0026lt;%- if attributes.map{ |a| a.name }.include?(&#39;name&#39;) -%\u0026gt;\n    name\n    \u0026lt;%- else -%\u0026gt;\n    \&quot;\u0026lt;%= class_name %\u0026gt; #{id}\&quot;\n    \u0026lt;%- end -%\u0026gt;\n  end\n\nend\n\u0026lt;% end -%\u0026gt;\n\n\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこんな感じです。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003erails g scaffold sample name comment:text\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\&quot;https://camo.qiitausercontent.com/830ca8804fd1d197b7786eab8c73e08598d1893c/68747470733a2f2f6162676174612e73332d61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f34346330366531343934356336323663633734316636613034646163303331342e706e67\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noopener\&quot;\u003e\u003cimg src=\&quot;https://camo.qiitausercontent.com/830ca8804fd1d197b7786eab8c73e08598d1893c/68747470733a2f2f6162676174612e73332d61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f34346330366531343934356336323663633734316636613034646163303331342e706e67\&quot; alt=\&quot;img\&quot; data-canonical-src=\&quot;https://abgata.s3-ap-northeast-1.amazonaws.com/44c06e14945c626cc741f6a04dac0314.png\&quot;\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eで生成されるファイルが変更されたのを確認できます。\u003c/p\u003e\n\n\u003cp\u003eさて、どんなテンプレートにしようかな。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;migrationのテンプレートカスタマイズ\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#migration%E3%81%AE%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003emigrationのテンプレートカスタマイズ\u003c/h2\u003e\n\n\u003cp\u003e\u003ccode\u003elib/templates/migration/templates/create_table_migration.rb\u003c/code\u003e\u003c/p\u003e\n&quot;,&quot;createdAt&quot;:&quot;2015-09-07T08:54:59Z&quot;,&quot;elapsedYearsFromUpdatedAt&quot;:3,&quot;isDeprecated&quot;:true,&quot;isDestroyableByViewer&quot;:false,&quot;isEditRequestSendableByViewer&quot;:true,&quot;isLikableByViewer&quot;:true,&quot;isLikedByViewer&quot;:false,&quot;isPublic&quot;:true,&quot;isSlide&quot;:false,&quot;isStockableByViewer&quot;:true,&quot;isStockedByViewer&quot;:false,&quot;isUpdatableByViewer&quot;:false,&quot;isUpdated&quot;:false,&quot;likesCount&quot;:23,&quot;originalId&quot;:327366,&quot;title&quot;:&quot;RailsのScaffoldのテンプレートをカスタマイズする&quot;,&quot;toc&quot;:&quot;\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#scaffold%E3%81%A7%E7%94%9F%E6%88%90%E3%81%95%E3%82%8C%E3%82%8B%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%82%92slim%E3%81%AB%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B\&quot;\u003eScaffoldで生成されるテンプレートをSlimに変更する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%81%95%E3%82%89%E3%81%AB%E3%81%93%E3%82%8C%E3%81%AE%E4%B8%AD%E8%BA%AB%E3%82%92%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%81%97%E3%81%9F%E3%81%84\&quot;\u003eさらに、これの中身をカスタマイズしたい\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%81%AE%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%82%82slim%E3%81%A7%E6%9B%B8%E3%81%8D%E3%81%9F%E3%81%84\&quot;\u003eテンプレートのカスタマイズもSlimで書きたい\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#scaffold_generatorrb\&quot;\u003escaffold_generator.rb\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#indexhtmlslim\&quot;\u003eindex.html.slim\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cli\u003e\n\u003ca href=\&quot;#%E6%8A%98%E8%A7%92%E3%81%AA%E3%81%AE%E3%81%A7controller%E3%81%A8model%E3%82%82%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%81%99%E3%82%8B\&quot;\u003e折角なのでcontrollerとmodelもカスタマイズする\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#rubymodelrb\&quot;\u003eruby:model.rb\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\n\n\u003cli\u003e\n\u003ca href=\&quot;#migration%E3%81%AE%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA\&quot;\u003emigrationのテンプレートカスタマイズ\u003c/a\u003e\n\u003c/li\u003e\n\n&quot;,&quot;totalPv&quot;:3370,&quot;updatedAt&quot;:&quot;2015-09-07T08:54:59Z&quot;,&quot;uuid&quot;:&quot;515f64632942c4e982b6&quot;,&quot;adventCalendarItem&quot;:null,&quot;author&quot;:{&quot;description&quot;:null,&quot;name&quot;:&quot;&quot;,&quot;profileImageUrl&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/33858/profile-images/1473686212&quot;,&quot;urlName&quot;:&quot;abgata20000&quot;,&quot;isFollowedByViewer&quot;:false,&quot;isFollowableByViewer&quot;:true,&quot;websiteUrl&quot;:&quot;http://blog.abgata.org&quot;,&quot;organizations&quot;:{&quot;edges&quot;:[]}},&quot;tags&quot;:[{&quot;name&quot;:&quot;Ruby&quot;,&quot;urlName&quot;:&quot;ruby&quot;},{&quot;name&quot;:&quot;Rails&quot;,&quot;urlName&quot;:&quot;rails&quot;},{&quot;name&quot;:&quot;scaffold&quot;,&quot;urlName&quot;:&quot;scaffold&quot;}],&quot;followingLikers&quot;:{&quot;edges&quot;:[]},&quot;comments&quot;:{&quot;totalCount&quot;:1}},&quot;analyticsTrackingId&quot;:null}"><article itemscope="itemscope" itemtype="http://schema.org/Article" class="p-items"><div class="p-items_wrapper"><div class="p-items_container"><div class="p-items_stickyMenu it-Actions"><div class="it-Actions_item it-Actions_item-like likable"><a class="it-Actions_likeCount" href="/abgata20000/items/515f64632942c4e982b6/likers">23</a><button><i class="fa fa-fw fa-thumbs-up"></i></button></div><div class="it-Actions_item it-Actions_item-stock"><button><i class="fa fa-folder-open"></i></button></div><div class="it-Actions_jumpToCommentButton"><div class="it-Actions_commentCount"></div><div class="fa fa-fw fa-comment"></div></div><div class="it-Actions_shareButton it-Actions_shareButton-twitter"><span class="fa fa-twitter"></span></div><div class="it-Actions_shareButton it-Actions_shareButton-facebook"><span class="fa fa-facebook"></span></div></div><div class="p-items_main"><div class="p-items_article"><div class="it-Header"><div class="u-flex-center-between mb-3"><div class="it-Header_info"><div class="it-Header_author"><a href="/abgata20000"><img class="it-Header_authorImage" src="https://qiita-image-store.s3.amazonaws.com/0/33858/profile-images/1473686212" alt="1473686212" /></a><a class="it-Header_authorName" href="/abgata20000">@abgata20000</a> </div><div class="it-Header_time"></div><div class="it-Header_meta"><div class="it-Header_manipulate"><div class="dropdown"><span class="dropdown-toggle" tabindex="0"><span class="fa fa-ellipsis-h fa-lg"></span></span></div></div></div></div></div><h1 class="it-Header_title" itemprop="headline">RailsのScaffoldのテンプレートをカスタマイズする</h1><div class="it-Tags"><a class="it-Tags_item" href="/tags/ruby"><span>Ruby</span></a><a class="it-Tags_item" href="/tags/rails"><span>Rails</span></a><a class="it-Tags_item" href="/tags/scaffold"><span>scaffold</span></a></div></div><div class="it-ActionsMobile"><div class="it-ActionsMobile_like likable"><button><span class="fa fa-fw fa-thumbs-up" /><span>23</span></button></div><div class="it-ActionsMobile_stock"><button><div class="fa fa-folder-open"></div></button></div></div><div class="it-DeprecationAlert_three mb-5 p-2"><span class="fa fa-warning mr-1"></span>この記事は最終更新日から3年以上が経過しています。</div><section class="it-MdContent" itemprop="articleBody"><div id="item-515f64632942c4e982b6">
<h2>
<span id="scaffoldで生成されるテンプレートをslimに変更する" class="fragment"></span><a href="#scaffold%E3%81%A7%E7%94%9F%E6%88%90%E3%81%95%E3%82%8C%E3%82%8B%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%82%92slim%E3%81%AB%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>Scaffoldで生成されるテンプレートをSlimに変更する</h2>

<p>Railsの<strong>Scaffold</strong>を使う際にテンプレートを<strong>slim</strong>で、</p>

<p>生成してさらに中身をカスタマイズできるようにしたくなったのでいろいろ調べてみました。</p>

<p>テンプレートエンジンを<strong>slim</strong>に変更するのは、簡単そうです。</p>

<p>Gemfileに <code>gem 'slim-rails'</code> を追加して <code>bundle install</code> を実行して、</p>

<p><code>config/application.rb</code>に</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>config.generators do |g|
  g.template_engine :slim
end
</pre></div></div>

<p>を追加するだけで出来ました。</p>

<p><a href="https://camo.qiitausercontent.com/2f37bf8bba75bb8d783c206e30f34a480cda98e8/68747470733a2f2f6162676174612e73332d61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f36343437643337353639623936333333633839383165626361623937386437302e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/2f37bf8bba75bb8d783c206e30f34a480cda98e8/68747470733a2f2f6162676174612e73332d61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f36343437643337353639623936333333633839383165626361623937386437302e706e67" alt="img" data-canonical-src="https://abgata.s3-ap-northeast-1.amazonaws.com/6447d37569b96333c8981ebcab978d70.png"></a></p>

<h2>
<span id="さらにこれの中身をカスタマイズしたい" class="fragment"></span><a href="#%E3%81%95%E3%82%89%E3%81%AB%E3%81%93%E3%82%8C%E3%81%AE%E4%B8%AD%E8%BA%AB%E3%82%92%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%81%97%E3%81%9F%E3%81%84"><i class="fa fa-link"></i></a>さらに、これの中身をカスタマイズしたい</h2>

<p>参考サイト: <a href="http://qiita.com/labocho/items/387e7592b8e388fd9ca5" id="reference-56dbe92a92b27336e517">rails g scaffold のカスタマイズ</a></p>

<p>現在利用しているテンプレートのコピーを作成します</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>rake rails:templates:copy
</pre></div></div>

<p>これで <code>lib/templates</code> が生成されます</p>

<p><code>lib/template/scaffold</code> 作成して、</p>

<p><code>index.html.erb</code> などのテンプレートファイルを作成すれば</p>

<p><code>rails g scaffold</code> 時に反映されるようです。</p>

<h3>
<span id="テンプレートのカスタマイズもslimで書きたい" class="fragment"></span><a href="#%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%81%AE%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%82%82slim%E3%81%A7%E6%9B%B8%E3%81%8D%E3%81%9F%E3%81%84"><i class="fa fa-link"></i></a>テンプレートのカスタマイズもSlimで書きたい</h3>

<p>デフォルトでは、テンプレートエンジンは <code>erb</code> になっています。</p>

<p>このままでも良かったのですが、折角なので、</p>

<p>テンプレートのカスタマイズも<strong>slim</strong>で出来るようにしました。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>rails g generator slim/scaffold
</pre></div></div>

<p>で、<code>lib/generators/slim/scaffold</code> が生成されます。</p>

<p>生成されたフォルダ内の</p>

<p><code>scaffold_generator.rb</code></p>

<p>を編集します。</p>

<h5>
<span id="scaffold_generatorrb" class="fragment"></span><a href="#scaffold_generatorrb"><i class="fa fa-link"></i></a>scaffold_generator.rb</h5>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>require "rails/generators/erb/scaffold/scaffold_generator"
class Slim::ScaffoldGenerator &lt; Erb::Generators::ScaffoldGenerator
  source_root File.expand_path('../templates', __FILE__)

  protected
  def handler
    :slim
  end
end
</pre></div></div>

<p>これで、scaffold時に <code>lib/generators/slim/scaffold/template</code> 内のファイルが利用されるようになります。</p>

<h5>
<span id="indexhtmlslim" class="fragment"></span><a href="#indexhtmlslim"><i class="fa fa-link"></i></a>index.html.slim</h5>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>h1
  | &lt;%= plural_table_name %&gt;

table class=("table table-boderd table-striped table-hover")
  thead
    tr
&lt;% attributes.reject(&amp;:password_digest?).each do |attribute| -%&gt;
      th &lt;%= attribute.human_name %&gt;
&lt;% end -%&gt;
      th
      th
      th

  tbody
    - @&lt;%= plural_table_name %&gt;.each do |&lt;%= singular_table_name %&gt;|
      tr
&lt;% attributes.reject(&amp;:password_digest?).each do |attribute| -%&gt;
        td= &lt;%= singular_table_name %&gt;.&lt;%= attribute.name %&gt;
&lt;% end -%&gt;
        td= link_to 'Show', &lt;%= singular_table_name %&gt;, :class =&gt; 'btn btn-info'
        td= link_to 'Edit', edit_&lt;%= singular_table_name %&gt;_path(&lt;%= singular_table_name %&gt;), :class =&gt; 'btn btn-success'
        td
          = link_to('Destroy',
            &lt;%= singular_table_name %&gt;,
            method: :delete,
            :remote =&gt; true,
            :onclick =&gt; 'if(window.confirm("are you sure?")){$(this).closest("tr").fadeOut()}',
            data: {},
            :class =&gt; 'btn btn-danger')

</pre></div></div>

<p>こんな感じですね。</p>

<p>ちょっとハマったのは、</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>&lt;% attributes.reject(&amp;:password_digest?).each do |attribute| -%&gt;
      th &lt;%= attribute.human_name %&gt;
&lt;% end -%&gt;
</pre></div></div>

<p>のようなscaffold時に生成される箇所にインデントがあると、</p>

<p>生成されたslimファイルのインデントがおかしくなるという点です。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>tbody
  - @&lt;%= plural_table_name %&gt;.each do |&lt;%= singular_table_name %&gt;|
    tr
      &lt;% attributes.reject(&amp;:password_digest?).each do |attribute| -%&gt;
      td= &lt;%= singular_table_name %&gt;.&lt;%= attribute.name %&gt;
      &lt;% end -%&gt;

</pre></div></div>

<p>のように記述すると</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>tr
    td

</pre></div></div>

<p>とインデントが余分に入ってしまいました。</p>

<h2>
<span id="折角なのでcontrollerとmodelもカスタマイズする" class="fragment"></span><a href="#%E6%8A%98%E8%A7%92%E3%81%AA%E3%81%AE%E3%81%A7controller%E3%81%A8model%E3%82%82%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>折角なのでcontrollerとmodelもカスタマイズする</h2>

<p>controllerは、<code>lib/templates/rails/scaffold_controller/controller.rb</code>を編集すればいいようです。</p>

<p>このファイルは、最初に実行した</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>rake rails:templates:copy
</pre></div></div>

<p>で生成されていました。</p>

<p>modelは、<code>lib/templates/active_record/model/model.rb</code>を作成する必要があります。</p>

<p>サンプルは、</p>

<h5>
<span id="rubymodelrb" class="fragment"></span><a href="#rubymodelrb"><i class="fa fa-link"></i></a>ruby:model.rb</h5>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>&lt;% module_namespacing do -%&gt;
class &lt;%= class_name %&gt; &lt; &lt;%= parent_class_name.classify %&gt;
&lt;% attributes.select {|attr| attr.reference? }.each do |attribute| -%&gt;
  belongs_to :&lt;%= attribute.name %&gt;&lt;%= ', polymorphic: true' if attribute.polymorphic? %&gt;
&lt;% end -%&gt;
&lt;% if !accessible_attributes.empty? -%&gt;
  # attr_accessible &lt;%= accessible_attributes.map {|a| ":#{a.name}" }.sort.join(', ') %&gt;
&lt;% else -%&gt;
  # attr_accessible :title, :body # rails4 だとエラー出ます
&lt;% end -%&gt;


  def to_s
    &lt;%- if attributes.map{ |a| a.name }.include?('name') -%&gt;
    name
    &lt;%- else -%&gt;
    "&lt;%= class_name %&gt; #{id}"
    &lt;%- end -%&gt;
  end

end
&lt;% end -%&gt;


</pre></div></div>

<p>こんな感じです。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>rails g scaffold sample name comment:text
</pre></div></div>

<p><a href="https://camo.qiitausercontent.com/830ca8804fd1d197b7786eab8c73e08598d1893c/68747470733a2f2f6162676174612e73332d61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f34346330366531343934356336323663633734316636613034646163303331342e706e67" target="_blank" rel="nofollow noopener"><img src="https://camo.qiitausercontent.com/830ca8804fd1d197b7786eab8c73e08598d1893c/68747470733a2f2f6162676174612e73332d61702d6e6f727468656173742d312e616d617a6f6e6177732e636f6d2f34346330366531343934356336323663633734316636613034646163303331342e706e67" alt="img" data-canonical-src="https://abgata.s3-ap-northeast-1.amazonaws.com/44c06e14945c626cc741f6a04dac0314.png"></a></p>

<p>で生成されるファイルが変更されたのを確認できます。</p>

<p>さて、どんなテンプレートにしようかな。</p>

<h2>
<span id="migrationのテンプレートカスタマイズ" class="fragment"></span><a href="#migration%E3%81%AE%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA"><i class="fa fa-link"></i></a>migrationのテンプレートカスタマイズ</h2>

<p><code>lib/templates/migration/templates/create_table_migration.rb</code></p>
</div></section><div class="it-Footer"><div class="it-Footer_actions"><div class="it-Footer_editRequest"><a class="u-link-no-underline" href="/abgata20000/items/515f64632942c4e982b6/edit"><span class="fa fa-fw fa-send"></span><span>編集リクエスト</span></a></div><div class="it-Footer_stock"><button><span class="fa fa-folder-open"></span><span class="it-Footer_stockLabel">ストック</span></button></div><div class="it-Footer_like"><button><span class="fa fa-fw fa-thumbs-up"></span><span>いいね</span></button><a class="it-Footer_likeCount" href="/abgata20000/items/515f64632942c4e982b6/likers">23</a></div></div><div class="it-Footer_social"><div class="it-Footer_shareButton it-Footer_shareButton-webshare"><span class="fa fa-share-alt"></span></div><div class="it-Footer_shareButton it-Footer_shareButton-twitter"><span class="fa fa-twitter"></span></div><div class="it-Footer_shareButton it-Footer_shareButton-facebook"><span class="fa fa-facebook"></span></div></div></div><div class="ai-Container" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><div class="it-User"><a href="/abgata20000"><img class="ai-User_image" itemprop="image" alt="abgata20000" src="https://qiita-image-store.s3.amazonaws.com/0/33858/profile-images/1473686212" /></a><div class="ai-User_body"><div class="ai-User_header"><a class="ai-User_urlname" itemprop="name" href="/abgata20000">abgata20000</a></div><div class="ai-User_description"></div><a class="ai-User_website" href="http://blog.abgata.org">http://blog.abgata.org</a></div></div></div></div></div><div class="p-items_options"></div><div class="p-items_toc"><div class="it-Toc"><div class="it-Toc_nav"><ul>
<li>
<a href="#scaffold%E3%81%A7%E7%94%9F%E6%88%90%E3%81%95%E3%82%8C%E3%82%8B%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%82%92slim%E3%81%AB%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B">Scaffoldで生成されるテンプレートをSlimに変更する</a>
</li>
<li>
<a href="#%E3%81%95%E3%82%89%E3%81%AB%E3%81%93%E3%82%8C%E3%81%AE%E4%B8%AD%E8%BA%AB%E3%82%92%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%81%97%E3%81%9F%E3%81%84">さらに、これの中身をカスタマイズしたい</a>
<ul>
<li>
<a href="#%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%81%AE%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%82%82slim%E3%81%A7%E6%9B%B8%E3%81%8D%E3%81%9F%E3%81%84">テンプレートのカスタマイズもSlimで書きたい</a>
<ul>
<ul>
<li>
<a href="#scaffold_generatorrb">scaffold_generator.rb</a>
</li>
<li>
<a href="#indexhtmlslim">index.html.slim</a>
</li>
</ul>
</ul>
</li>
</ul>
</li>
</ul>

<li>
<a href="#%E6%8A%98%E8%A7%92%E3%81%AA%E3%81%AE%E3%81%A7controller%E3%81%A8model%E3%82%82%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%81%99%E3%82%8B">折角なのでcontrollerとmodelもカスタマイズする</a>
<ul>
<ul>
<ul>
<li>
<a href="#rubymodelrb">ruby:model.rb</a>
</li>
</ul>
</ul>
</ul>
</li>




<li>
<a href="#migration%E3%81%AE%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA">migrationのテンプレートカスタマイズ</a>
</li>

</div></div></div></div></div><div class="p-items_wrapper p-items_wrapper-white"><div class="p-items_container"><div class="p-items_leftDummy"></div><div class="p-items_main"></div><div class="p-items_rightDummy"></div></div></div></article></div><footer id="globalFooter" class="st-Footer px-2 px-1@s pt-1 pt-3@s pb-2"><div class="st-Footer_container"><ul class="st-Footer_start"><li class="st-Footer_link"><a class="st-Footer_copyright" href="https://increments.co.jp">© 2011-2018 Increments Inc.</a></li><li class="st-Footer_link"><a href="/terms">利用規約</a></li><li class="st-Footer_link"><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">ガイドライン</a></li><li class="st-Footer_link"><a href="/privacy">プライバシー</a></li><li class="st-Footer_link"><a href="https://help.qiita.com">ヘルプ</a></li></ul><ul class="st-Footer_end"><li class="st-Footer_link"><a href="/about">Qiita とは</a></li><li class="st-Footer_link"><a href="/users">ユーザー</a></li><li class="st-Footer_link"><a href="/tags">タグ</a></li><li class="st-Footer_link"><a href="/items">投稿</a></li><li class="st-Footer_link"><a href="https://blog.qiita.com">ブログ</a></li><li class="st-Footer_link"><a href="/api/v2/docs">API</a></li><li class="st-Footer_link"><a href="https://teams.qiita.com">Qiita:Team</a></li><li class="st-Footer_link"><a href="/feedback/new">ご意見</a></li></ul></div></footer></div><div class="p-messages"><div data-hyperapp-app="Message" data-hyperapp-props="{&quot;messages&quot;:[]}"></div></div><div id="dataContainer" style="display: none;" data-config="{&quot;actionPath&quot;:&quot;public/items#show&quot;,&quot;settings&quot;:{&quot;analyticsTrackingId&quot;:&quot;UA-24675221-12&quot;,&quot;mixpanelToken&quot;:&quot;17d24b448ca579c365d2d1057f3a1791&quot;,&quot;assetsMap&quot;:{},&quot;csrfToken&quot;:&quot;QVOjxHxfHuuBFNILd65M1ShAspnZ+w8dfssX0dhQ7xF7ZLbzszzBfuMfCRvslIQ1ylK1TuFCC36Yjeb/3T2DTA==&quot;,&quot;locale&quot;:&quot;ja&quot;},&quot;currentUser&quot;:null}" /><script>/* <![CDATA[ */
var yahoo_retargeting_id = '6B63B2EQA6';
var yahoo_retargeting_label = 'qiita';
var yahoo_retargeting_page_type = '';
var yahoo_retargeting_items = [{item_id: '', category_id: '', price: '', quantity: ''}];
/* ]]> */</script><script language="javascript" src="https://b92.yahoo.co.jp/js/s_retargeting.js" type="text/javascript"></script><script src="//platform.twitter.com/oct.js" type="text/javascript"></script><script>twttr.conversion.trackPid('nzz0o', { tw_sale_amount: 0, tw_order_quantity: 0 });</script><noscript><img alt="" height="1" src="https://analytics.twitter.com/i/adsct?txn_id=nzz0o&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0" style="display:none;" width="1" /><img alt="" height="1" src="//t.co/i/adsct?txn_id=nzz0o&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0" style="display:none;" width="1" /></noscript></body></html>